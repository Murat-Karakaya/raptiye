<link rel="stylesheet" href="/css/navbar.css">
<nav class="navbar">
	<!-- Logo and brand name -->
	<a href="/" class="navbar-brand">
		<img src="/img/logo.svg" alt="Logo">
		<span> İTÜ Raptiye</span>
	</a>
	<!-- Mobile menu toggle button -->
	<button class="navbar-toggle" id="navbar-toggle">☰</button>
	<!-- Main menu items -->
	<ul class="navbar-menu" id="navbar-menu">

		<li class="navbar-item">
			<a href="/" class="navbar-link">Anasayfa</a>
		</li>
		<li class="navbar-item">
			<a href="#" class="navbar-link">İlanlar <img class="downward-arrow" src="/img/downward-arrow.svg"></a>
			<!-- Dropdown menu for "İlanlar" -->
			<div class="dropdown-menu">
				<div class="adjacent">
					<a href="/ilanlar" class="dropdown-link"><span>Satış İlanları</span></a>
					<a href="/addpost" class="plus-link" id="tumplus">
						<img src="/img/plus-symbol.svg" class="plus-symbol" alt="+">
					</a>
				</div>
				<div class="adjacent">
					<a href="/isler" class="dropdown-link">İş İlanları</a>
					<a href="/addjob" class="plus-link" id="isplus">
						<img src="/img/plus-symbol.svg" class="plus-symbol" alt="+">
					</a>
				</div>
				<div class="adjacent">
					<a href="/kiraoda" class="dropdown-link">Ev Arkadaşı İlanları</a>
					<a href="/addkiraoda" class="plus-link" id="evplus">
						<img src="/img/plus-symbol.svg" class="plus-symbol" alt="+">
					</a>
				</div>
				<div class="adjacent">
					<a href="/kisailanlar" class="dropdown-link">Kısa Süreli İlanlar</a>
					<a href="/addshortilan" class="plus-link" id="kisaplus">
						<img src="/img/plus-symbol.svg" class="plus-symbol" alt="+">
					</a>
				</div>
			</div>
		</li>

		<li class="navbar-item">
			<a href="#" class="navbar-link">Kampüse Bir Mesaj</a>
			<!-- Dropdown menu -->
			<div class="dropdown-menu">
				<a href="/kampusebirmesajbirak" class="dropdown-link dropdown-campus">Kampüse Mesaj Bırak</a>
				<a href="/kampusemesajlar" class="dropdown-link dropdown-campus">Bırakılan Mesajlar</a>
			</div>
		</li>
		<li class="navbar-item">
			<a href="/lettergrade" class="navbar-link">Harf Notu Hesapla</a>
		</li>

		<% if (!user) { %>
			<li class="navbar-item">
				<a href="/register" class="navbar-link">Üye ol</a>
			</li>
			<li class="navbar-item">
				<a href="/login" class="navbar-link">Giriş yap</a>
			</li>
			<% } %>

				<% if (user) { %>
					<li class="navbar-item">
						<a href="/profile" class="navbar-link"><img src="/img/profile-circle.svg" alt="profil"></a>
					</li>

					<!-- Burası notification varsa yoksa style burdan ayarlanacak -->
					<li class="navbar-item">
						<a href="/gelenkutusu" class="<% if (hasNotification>0) { %> notification<% } %> navbar-link">
							<!-- hasNotification stores a number not a bool-->
							<% if (hasNotification==0) { %>
								<img src="/img/message-img.svg" alt="gelen kutusu">
								<%} else if(hasNotification>0){ %>
									<img src="/img/message-notification-img.svg" alt="<%=hasNotification%> mesaj">
									<span>
										<%=hasNotification%>
									</span>
									<% } %>
						</a>
					</li>

					<li id="logout-btn" class="navbar-item">
						<a href="/logout" class="navbar-link"><img src="/img/log-out.svg" alt="çıkış yap"></a>
					</li>
					<% } %>
	</ul>
</nav>

<script>
	// JavaScript to toggle mobile menu with sliding effect
	document.getElementById('navbar-toggle').addEventListener('click', function () {
		const menu = document.getElementById('navbar-menu');
		menu.classList.toggle('active');
		menu.style.maxHeight = menu.classList.contains('active') ? menu.scrollHeight + "px" : "0";
	});
</script>